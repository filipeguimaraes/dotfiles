!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=48)}([function(e,t,n){var r,a,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=[e],void 0===(i="function"==typeof(r=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const t="The message port closed before a response was received.",n="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class a extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(e.runtime.lastError):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},s=e=>1==e?"argument":"arguments",o=(e,t,n)=>new Proxy(t,{apply:(t,r,a)=>n.call(r,e,...a)});let c=Function.call.bind(Object.prototype.hasOwnProperty);const l=(e,t={},n={})=>{let r=Object.create(null),a={has:(t,n)=>n in e||n in r,get(a,d,u){if(d in r)return r[d];if(!(d in e))return;let g=e[d];if("function"==typeof g)if("function"==typeof t[d])g=o(e,e[d],t[d]);else if(c(n,d)){let t=((e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise((a,s)=>{if(t.fallbackToNoCallback)try{n[e](...r,i({resolve:a,reject:s},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, `+"falling back to call it without a callback: ",i),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,a()}else t.noCallback?(n[e](...r),a()):n[e](...r,i({resolve:a,reject:s},t))})})(d,n[d]);g=o(e,e[d],t)}else g=g.bind(e);else if("object"==typeof g&&null!==g&&(c(t,d)||c(n,d)))g=l(g,t[d],n[d]);else{if(!c(n,"*"))return Object.defineProperty(r,d,{configurable:!0,enumerable:!0,get:()=>e[d],set(t){e[d]=t}}),g;g=l(g,t[d],n["*"])}return r[d]=g,g},set:(t,n,a,i)=>(n in r?r[n]=a:e[n]=a,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},d=Object.create(e);return new Proxy(d,a)},d=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}});let u=!1;const g=new a(e=>"function"!=typeof e?e:function(t,r,a){let i,s,o=!1,c=new Promise(e=>{i=function(t){u||(console.warn(n,(new Error).stack),u=!0),o=!0,e(t)}});try{s=e(t,r,i)}catch(e){s=Promise.reject(e)}const l=!0!==s&&(d=s)&&"object"==typeof d&&"function"==typeof d.then;var d;if(!0!==s&&!l&&!o)return!1;const g=e=>{e.then(e=>{a(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",a({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})};return g(l?s:c),!0}),m=({reject:n,resolve:r},a)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(e.runtime.lastError):a&&a.__mozWebExtensionPolyfillReject__?n(new Error(a.message)):r(a)},p=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise((e,t)=>{const a=m.bind(null,{resolve:e,reject:t});r.push(a),n.sendMessage(...r)})},f={runtime:{onMessage:d(g),onMessageExternal:d(g),sendMessage:p.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:p.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},h={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{"*":h},services:{"*":h},websites:{"*":h}},l(e,f,r)};if("object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");e.exports=r(chrome)}else e.exports=browser})?r.apply(t,a):r)||(e.exports=i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return d}));var r=n(0),a=n.n(r),i=function(e,t){return e.classList.add(t)},s=function(e,t){return e.classList.remove(t)},o=function(e,t){return e.classList.contains(t)},c=function(e,t){return document.getElementById(e).textContent=t},l=function(e){return-1!==e.search(/en/g)?"en":e.search(/tw/i)?"tc":"en"},d=function(e){(e||window.document).querySelectorAll("[intl-id]").forEach((function(e){return e.textContent=a.a.i18n.getMessage(e.getAttribute("intl-id"))}))}},function(e,t,n){e.exports=n(12)},function(e,t){function n(e,t,n,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,a)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}},function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d}));var r="UPDATE_SETTINGS_UI",a="BLOCK_CONTENT",i="HIDE_OVERLAY",s="FAILED",o="UPDATE_POPUP_MODE_SWITCHER",c="UPDATE_OPTIONS_MODE_SWITCHER",l="LOCK_POPUP_MODE_SWITCHER",d="UNLOCK_POPUP_MODE_SWITCHER"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={READY:"ready",GROWING:"growing",GROWN:"grown",FAILED:"failed"}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=[{id:0,name:"Cedar",prefix:"tree_default",type:"TREE",special_childhood:[],has_seven:!0,product_id:-1},{id:1,name:"Flower Tree",prefix:"flower_tree",type:"TREE",special_childhood:[],has_seven:!0,product_id:1},{id:2,name:"Tree House",prefix:"tree_house",type:"TREE",special_childhood:[],has_seven:!0,product_id:2},{id:3,name:"Nest",prefix:"bird_tree",type:"TREE",special_childhood:[],has_seven:!0,product_id:3},{id:4,name:"Lemon Tree",prefix:"lemon_tree",type:"TREE",special_childhood:[],has_seven:!0,product_id:6},{id:5,name:"Triplets",prefix:"castle_tree",type:"TREE",special_childhood:[],has_seven:!0,product_id:7},{id:6,name:"Bush",prefix:"flower_bush",type:"BUSH",special_childhood:[],has_seven:!1,product_id:-1},{id:7,name:"Octopus",prefix:"octopus",type:"TREE",special_childhood:[],has_seven:!0,product_id:10},{id:8,name:"Cherry Blossom",prefix:"cherry_blossom",type:"TREE",special_childhood:[],has_seven:!0,product_id:11},{id:9,name:"Coconut Tree",prefix:"coconut_tree",type:"TREE",special_childhood:[],has_seven:!0,product_id:12},{id:10,name:"Cat Tree",prefix:"cat_tree",type:"TREE",special_childhood:[],has_seven:!0,product_id:13},{id:11,name:"Grass",prefix:"grass",type:"BUSH",special_childhood:[],has_seven:!1,product_id:14},{id:12,name:"Pine Tree",prefix:"pine_tree",type:"TREE",special_childhood:[],has_seven:!0,product_id:15},{id:13,name:"Cactus Ball",prefix:"cactus_ball",type:"BUSH",special_childhood:[1,2],has_seven:!1,product_id:16},{id:14,name:"Pumpkin",prefix:"pumpkin",type:"BUSH",special_childhood:[1,2],has_seven:!1,product_id:22},{id:15,name:"Scarecrow",prefix:"scarecrow",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:23},{id:18,name:"Mushroom",prefix:"mushroom",type:"BUSH",special_childhood:[1,2],has_seven:!1,product_id:24},{id:19,name:"Big Cactus",prefix:"big_cactus",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:25},{id:20,name:"Ginkgo Tree",prefix:"ginkgo",type:"TREE",special_childhood:[],has_seven:!0,product_id:27},{id:21,name:"Wisteria Tree",prefix:"wisteria_tree",type:"TREE",special_childhood:[],has_seven:!0,product_id:28},{id:22,name:"Watermelon",prefix:"watermelon",type:"BUSH",special_childhood:[2],has_seven:!1,product_id:29},{id:23,name:"Bamboo",prefix:"bamboo",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:30},{id:24,name:"Candy Tree",prefix:"candy_tree",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:31},{id:25,name:"SunFlower",prefix:"sunflower",type:"BUSH",special_childhood:[1,2],has_seven:!1,product_id:32},{id:26,name:"Rose",prefix:"rose",type:"BUSH",special_childhood:[1,2],has_seven:!1,product_id:33},{id:27,name:"Maple",prefix:"maple",type:"TREE",special_childhood:[],has_seven:!0,product_id:34},{id:28,name:"BaobabTree",prefix:"baobab_tree",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:35},{id:29,name:"Raffelesia",prefix:"rafflesia",type:"BUSH",special_childhood:[1,2],has_seven:!1,product_id:36},{id:30,name:"Banana Tree",prefix:"banana_tree",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:37},{id:31,name:"New Year Bamboo",prefix:"new_year_bamboo",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:38},{id:32,name:"Earth Tree",prefix:"earth_tree",type:"BUSH",special_childhood:[1,2],has_seven:!1,product_id:39},{id:33,name:"Carnation",prefix:"Carnation",type:"BUSH",special_childhood:[1,2],has_seven:!1,product_id:40},{id:34,name:"Apple Tree",prefix:"apple_tree",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:41},{id:35,name:"Star Tree",prefix:"star_tree",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:42},{id:36,name:"Time Tree",prefix:"time_tree",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:43},{id:37,name:"Moon Tree",prefix:"moon_tree",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:44},{id:38,name:"Rainbow Flower",prefix:"rainbow_flower",type:"BUSH",special_childhood:[1,2],has_seven:!1,product_id:45},{id:39,name:"Ghost Mushroom",prefix:"ghost_mushroom",type:"BUSH",special_childhood:[1,2],has_seven:!1,product_id:46},{id:40,name:"Blue Mail Tree",prefix:"mail_tree_blue",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:47},{id:41,name:"Green Mail Tree",prefix:"mail_tree_green",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:48},{id:42,name:"Pink Mail Tree",prefix:"mail_tree_pink",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:49},{id:43,name:"Yellow Mail Tree",prefix:"mail_tree_yellow",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:50},{id:44,name:"Purple Mail Tree",prefix:"mail_tree_purple",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:51},{id:45,name:"Cattail Willow",prefix:"cattail_willow",type:"BUSH",special_childhood:[1,2],has_seven:!1,product_id:52},{id:46,name:"Clear Note Flower",prefix:"clear_note_flower",type:"BUSH",special_childhood:[1,2],has_seven:!1,product_id:53},{id:47,name:"Coral",prefix:"coral",type:"BUSH",special_childhood:[1,2],has_seven:!1,product_id:54},{id:48,name:"Cake Flower Chocolate",prefix:"cake_flower_chocolate",type:"TREE",special_childhood:[1,2],has_seven:!1,product_id:62},{id:49,name:"Cake Flower Cheese",prefix:"cake_flower_cheese",type:"TREE",special_childhood:[1,2],has_seven:!1,product_id:63},{id:50,name:"Cake Flower Tiramisu",prefix:"cake_flower_tiramisu",type:"TREE",special_childhood:[1,2],has_seven:!1,product_id:64},{id:51,name:"Cake Flower Matcha",prefix:"cake_flower_matcha",type:"TREE",special_childhood:[1,2],has_seven:!1,product_id:65},{id:52,name:"Cake Flower Lemon",prefix:"cake_flower_lemon",type:"TREE",special_childhood:[1,2],has_seven:!1,product_id:66},{id:53,name:"Cake Flower Black",prefix:"cake_flower_black",type:"TREE",special_childhood:[1,2],has_seven:!1,product_id:67},{id:54,name:"Cake Flower Blueberry",prefix:"cake_flower_blueberry",type:"TREE",special_childhood:[1,2],has_seven:!1,product_id:68},{id:55,name:"Cake Flower Strawberry",prefix:"cake_flower_strawberry",type:"TREE",special_childhood:[1,2],has_seven:!1,product_id:69},{id:56,name:"Birthday2019CakeTree",prefix:"cake_tree",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:55},{id:57,name:"Dog Tree",prefix:"dog_tree",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:56},{id:58,name:"Bear Paw",prefix:"bear_paw",type:"BUSH",special_childhood:[1,2],has_seven:!1,product_id:57},{id:59,name:"Starburst Bush",prefix:"starburst_bush",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:59},{id:60,name:"Unicorn Tree",prefix:"unicorn_tree",type:"TREE",special_childhood:[1,2],has_seven:!1,product_id:60},{id:61,name:"Space Tree",prefix:"space_tree",type:"TREE",special_childhood:[1,2],has_seven:!1,product_id:61},{id:62,name:"Celestial Tree",prefix:"celestial_tree",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:81},{id:63,name:"Weepingwillow Tree",prefix:"weepingwillow_tree",type:"TREE",special_childhood:[1,2],has_seven:!0,product_id:82},{id:64,name:"Clover",prefix:"clover",type:"TREE",special_childhood:[1,2],has_seven:!1,product_id:84},{id:65,name:"Eco Tree",prefix:"eco_tree",type:"TREE",special_childhood:[1,2],has_seven:!1},{id:66,name:"Birthday 2020 tree",prefix:"birthday_2020_tree",type:"TREE",special_childhood:[1,2],has_seven:!1},{id:-1,name:"dummy",prefix:"dummy",product_id:-1}],a=[31,32,41,42,43,44,46,47,48,49,50,51,52,53,54,55,56,59,60,61]},function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u}));var r=n(4),a=function(e){return{type:r.h,payload:e}},i=function(e){var t=e.timerText,n=e.treeUrl;return{type:r.a,payload:{timerText:t,treeUrl:n}}},s=function(){return{type:r.c}},o=function(e,t){return{type:r.b,payload:{timerText:e,treeUrl:t}}},c=function(e){return{type:r.g,payload:e}},l=function(){return{type:r.f}},d=function(){return{type:r.d}},u=function(e){return{type:r.e,payload:e}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(24),a=n(25),i=n(11),s=n(26);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||s()}},function(e,t,n){var r=n(9);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function o(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,i=Object.create(a.prototype),s=new A(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return E()}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var o=b(s,n);if(o){if(o===l)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var d=c(e,t,n);if("normal"===d.type){if(r=n.done?"completed":"suspendedYield",d.arg===l)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(r="completed",n.method="throw",n.arg=d.arg)}}}(e,n,s),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=o;var l={};function d(){}function u(){}function g(){}var m={};m[a]=function(){return this};var p=Object.getPrototypeOf,f=p&&p(p(w([])));f&&f!==t&&n.call(f,a)&&(m=f);var h=g.prototype=d.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function _(e,t){var r;this._invoke=function(a,i){function s(){return new t((function(r,s){!function r(a,i,s,o){var l=c(e[a],e,i);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,s,o)}),(function(e){r("throw",e,s,o)})):t.resolve(u).then((function(e){d.value=e,s(d)}),(function(e){return r("throw",e,s,o)}))}o(l.arg)}(a,i,r,s)}))}return r=r?r.then(s,s):s()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function v(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function w(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return u.prototype=h.constructor=g,g.constructor=u,g[s]=u.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},y(_.prototype),_.prototype[i]=function(){return this},e.AsyncIterator=_,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var s=new _(o(t,n,r,a),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(h),h[s]="Generator",h[a]=function(){return this},h.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=w,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(v),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var o=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(o&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),v(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;v(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){var r=n(27),a=n(28),i=n(11),s=n(29);e.exports=function(e){return r(e)||a(e)||i(e)||s()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(13),a=n.n(r),i=n(0),s=n.n(i),o=a()(Array(8)).map((function(e,t){return{tag_id:t,title:s.a.i18n.getMessage("plant_tag_".concat(t))}}))},,,,,,,,,,function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(9);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(13),a=n.n(r),i=n(2),s=n.n(i),o=n(3),c=n.n(o),l=n(10),d=n.n(l),u=n(7),g=n(1),m=n(14),p=n(0),f=n.n(p),h=n(4),y=n(5),_=n(8);!function(){var e,t=f.a.extension.getBackgroundPage(),n=!1,r=0,i=!1,o=0,l=0,p=function(e,t,n){var r=d()(n,2),a=r[0],i=r[1];"right"===e?l+=1:l-=1,l+1===t.length-3?Object(g.a)(i,"hidden"):0===l?Object(g.a)(a,"hidden"):(Object(g.d)(a,"hidden"),Object(g.d)(i,"hidden")),t.forEach((function(e){return e.style.transform="translateX(-".concat(135*l,"px)")}))},b=function(){var n=c()(s.a.mark((function n(){var r,a,i,c,l,d,u,m,p,h,y;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=document.getElementById("edit-tag").value,a=document.getElementById("edit-note").value,n.next=4,f.a.storage.local.get({grownTree:null,tempTag:null,tempNote:null});case 4:if(i=n.sent,c=i.grownTree,l=c.find((function(e){return e.browserTreeID==o})),(i.tempTag!=r||i.tempNote!=a)&&(void 0!==l.plant.id&&null!=l.plant.id&&(l.syncState="WaitForSync"),d=e.findIndex((function(e){return e.title==r})),l.plant.tag=parseInt(e[d].tag_id),l.plant.note=a,null!=c&&0!=c.length)){for(p in u=new Date(0),m=0,c)h=c[p].plant,(y=new Date(h.end_time))>u&&(u=y,m=h.tag);t.saveLastTreeTagId(m)}return n.next=10,f.a.storage.local.set({grownTree:c});case 10:o=0,window.setTimeout((function(){return Object(g.a)(document.getElementById("edit-popup"),"disappear")}),300),Object(g.a)(document.getElementById("edit-popup"),"edit-popup-shrink"),window.setTimeout((function(){return Object(g.a)(document.getElementById("edit-mask"),"disappear")}),300),k();case 15:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),x=function(){var t=c()(s.a.mark((function t(n){var r,a,i,c,l,d,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.storage.local.get({grownTree:null});case 2:r=t.sent,o=n,a=r.grownTree,i=a.find((function(e){return e.browserTreeID==n})),c=i.plant.tag,l=i.plant.note,d=document.getElementById("edit-tag"),-1==(u=e.findIndex((function(e){return e.tag_id==parseInt(c)})))&&(u=0),d.selectedIndex=u,document.getElementById("edit-note").value=l;case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(e){for(var t=document.getElementById("edit-tag");t.options.length>0;)t.remove(0);e()},A=function(e){var n,r=[];switch(e){case"blacklist":n=document.getElementById("blacklist").children;break;case"whitelist":n=document.getElementById("whitelist").children}for(var a in n){var i=n[a];if(void 0!==i.id&&!i.id.startsWith("new")){var s=i.children;for(var o in s)if("SPAN"===s[o].nodeName){r.push(s[o].textContent);break}}}switch(e){case"blacklist":t.setBlacklist(r),f.a.storage.local.set({blackList:r});break;case"whitelist":t.setWhitelist(r),f.a.storage.local.set({whiteList:r})}},w=function(t){var n=new Date,r=new Date;for(var a in r.setDate(n.getDate()-1),t)if(0!=t[a].length){var i=new Date(t[a][0].plant.end_time),s=document.createElement("DIV");s.className="tree-day";var o=document.createElement("DIV");o.className="tree-date";var c=document.createElement("DIV");c.className="date-title",n.toDateString()==i.toDateString()?c.textContent=f.a.i18n.getMessage("settings_today"):r.toDateString()==i.toDateString()?c.textContent=f.a.i18n.getMessage("settings_yesterday"):c.textContent+=i.toLocaleString(navigator.language,{weekday:"long"});var l=document.createElement("DIV");l.className="date-day",l.textContent+=i.toLocaleString(navigator.language,{month:"long"})+" "+i.getDate(),o.appendChild(c),o.appendChild(l),s.appendChild(o);var d=document.createElement("UL");d.className="tree-daylist";var g=t[a];for(var m in g){var p=g[m].plant.trees[0].tree_type,h=g[m].plant.trees[g[m].plant.trees.length-1].phase,y=new Date(g[m].plant.start_time),_=new Date(g[m].plant.end_time),b=document.createElement("LI");b.className="tree";var x=document.createElement("IMG"),v=g[m].plant.tag;if(h<3&&void 0!==u.b[p].special_childhood)u.b[p].special_childhood.includes(parseInt(h))?x.src="./images/trees/tree1/tree_default_".concat(h,".png"):x.src="./images/trees/tree".concat(u.b[p].id+1,"/").concat(u.b[p].prefix,"_").concat(h,".png");else{var A=u.b[p],w=A.id,E=A.prefix,O=A.has_seven;x.src=8==h?"./images/trees/tree".concat(w+1,"/").concat(E,"_dead.png"):"./images/trees/tree".concat(w+1,"/").concat(E,"_").concat(O?h:"4",".png")}b.appendChild(x);var k=document.createElement("DIV");k.className="tree-info";var I=document.createElement("DIV");I.className="tree-tag";var j=e.findIndex((function(e){return e.tag_id==v}));-1==j&&(j=0),I.textContent+=e[j].title;var B=document.createElement("DIV");B.textContent+=y.toLocaleTimeString("en",{hour12:!1,hour:"2-digit",minute:"2-digit"})+" - "+_.toLocaleTimeString("en",{hour12:!1,hour:"2-digit",minute:"2-digit"}),B.textContent+=" ( "+Math.round((_.getTime()-y.getTime())/6e4)+" mins ) ",k.appendChild(I),k.appendChild(B);var T=document.createElement("DIV");T.className="note",T.id=g[m].browserTreeID,T.textContent+=g[m].plant.note,k.appendChild(T);var C=document.createElement("DIV");C.className="tree-status";var S=document.createElement("I"),M=document.createElement("SPAN");switch(M.className="tooltiptext",g[m].syncState){case"Success":S.className="tooltip fa fa-check",M.textContent=f.a.i18n.getMessage("settings_status_200");break;case"Fail":case"EditFail":S.className="tooltip fa fa-exclamation-triangle","0"==g[m].failedStatus?M.textContent=f.a.i18n.getMessage("settings_status_0"):"403"==g[m].failedStatus?M.textContent=f.a.i18n.getMessage("settings_status_403"):M.textContent=f.a.i18n.getMessage("settings_status_fail");break;case"WaitForSync":S.className="tooltip fa fa-refresh",M.textContent=f.a.i18n.getMessage("settings_status_waitforsync")}S.appendChild(M),S.setAttribute("style","font-size:20px;"),C.appendChild(S),b.appendChild(k),b.appendChild(C),d.appendChild(b)}s.appendChild(d),document.getElementById("tree-container").appendChild(s)}},E=function(e,t){var n,r;switch(e){case"blacklist":n=document.getElementById("blacklist"),r=document.getElementById("new-black");break;case"whitelist":n=document.getElementById("whitelist"),r=document.getElementById("new-white")}var a=document.createElement("LI"),i=document.createElement("IMG");i.src="images/settings/delete.png",i.className="x buttons",i.alt="X",a.appendChild(i);var s=document.createElement("IMG");s.className="favicon",s.src="http://".concat(t,"/favicon.ico"),a.appendChild(s),s.addEventListener("error",(function(){return s.src="images/settings/defaultFavicon.png"}));var o=document.createElement("SPAN");o.textContent=t,a.appendChild(o),n.insertBefore(a,r.nextElementSibling)};function O(){return(O=c()(s.a.mark((function e(){var n,r,a,i,o,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.storage.local.get({blackList:t.getDefaultBlacklist(),whiteList:t.getDefaultWhitelist(),isWhitelistMode:!1});case 2:for(n=e.sent,r=n.blackList,a=document.getElementById("blacklist"),a.children;"new-black"!==a.lastChild.id;)a.removeChild(a.lastChild);for(i in r)E("blacklist",r[r.length-i-1]);for(o=n.whiteList,c=document.getElementById("whitelist"),c.children;"new-white"!==c.lastChild.id;)c.removeChild(c.lastChild);for(l in o)E("whitelist",o[o.length-l-1]);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return I.apply(this,arguments)}function I(){return(I=c()(s.a.mark((function e(){var t,n,r,a,i,o,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.storage.local.get({user:null,grownTree:null});case 2:for(t=e.sent,n=t.grownTree,r=document.getElementById("tree-container"),r.children;"list-head"!==r.lastChild.id;)r.removeChild(r.lastChild);if(a=(new Date).getDate(),(i=new Array)[0]=new Array,o=0,null!=t.grownTree&&0!=t.grownTree.length){for(c in Object(g.a)(document.getElementById("synclist-no-tree"),"disappear"),Object(g.d)(document.getElementById("synclist-limit"),"disappear"),Object(g.a)(document.getElementById("no-sync-btn"),"disappear"),Object(g.a)(document.getElementById("sync-btn"),"disappear"),null!=t.user?Object(g.d)(document.getElementById("sync-btn"),"disappear"):Object(g.d)(document.getElementById("no-sync-btn"),"disappear"),n)(l=new Date(n[c].plant.end_time)).getDate()!=a&&(o++,a=l.getDate(),i[o]=new Array),i[o].push(n[c]);w(i)}else Object(g.a)(document.getElementById("no-sync-btn"),"disappear"),Object(g.a)(document.getElementById("sync-btn"),"disappear"),Object(g.d)(document.getElementById("synclist-no-tree"),"disappear"),Object(g.a)(document.getElementById("synclist-limit"),"disappear");j();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return B.apply(this,arguments)}function B(){return(B=c()(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.storage.local.get({user:null});case 2:null!=(t=e.sent).user&&(n=new XMLHttpRequest,r="https://c88fef96.forestapp.cc/api/v1/users/"+t.user.user_id+"/profile",n.open("GET",r,!0),n.setRequestHeader("Content-type","application/json; charset=utf-8"),n.onreadystatechange=c()(s.a.mark((function e(){var t,r,a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4!=n.readyState){e.next=20;break}if(200!=n.status){e.next=20;break}return t=JSON.parse(n.responseText),e.next=5,f.a.storage.local.set({profile:t});case 5:r=document.getElementById("profile-avatar"),a=document.getElementById("tab-info-avatar"),null==t.avatar_url?(r.src="images/settings/empty_avatar.png",a.src="images/settings/empty_avatar.png"):(r.src=t.avatar_url,a.src=t.avatar_url),document.getElementById("profile-name").textContent=t.name,document.getElementById("profile-healthy").textContent=t.health_count,i=document.getElementById("profile-rate"),o=t.health_count+t.death_count>0?Math.round(t.health_count/(t.health_count+t.death_count)*100):0,i.textContent=o+"%",document.getElementById("tab-info-name").textContent=t.name,T(),e.next=20;break;case 20:case"end":return e.stop()}}),e)}))),n.send());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return C.apply(this,arguments)}function C(){return(C=c()(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.storage.local.get({user:null});case 2:null!=(t=e.sent).user&&(n=new XMLHttpRequest,r="https://c88fef96.forestapp.cc/api/v1/users/"+t.user.id+"/coin?authenticate_token="+t.user.remember_token,n.open("GET",r,!0),n.setRequestHeader("Content-type","application/json; charset=utf-8"),n.onreadystatechange=c()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4!=n.readyState){e.next=9;break}if(200!=n.status){e.next=9;break}return t=JSON.parse(n.responseText),e.next=5,f.a.storage.local.set({coin:t.coin});case 5:document.getElementById("profile-coin").textContent=t.coin,e.next=9;break;case 9:case"end":return e.stop()}}),e)}))),n.send());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(t){v(c()(s.a.mark((function n(){var r,a,i,o,c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.storage.local.get({user:null});case 2:r=n.sent,a=document.getElementById("edit-tag"),null!=r.user&&(o=new XMLHttpRequest,c="https://c88fef96.forestapp.cc/api/v1/tags?authenticate_token="+r.user.remember_token,o.open("GET",c,!0),o.setRequestHeader("Content-type","application/json; charset=utf-8"),o.onreadystatechange=function(){if(4==o.readyState){if(200==o.status){var n=JSON.parse(o.responseText).tags;for(var r in(e=new Array).push({tag_id:0,title:f.a.i18n.getMessage("plant_tag_0")}),n)if(1!=n[r].deleted){var s=new Object;0!=n[r].tag_id&&"0"!=n[r].tag_id&&(s.tag_id=n[r].tag_id,s.title=n[r].title,e.push(s))}for(var r in null!=e&&1!=e.length||(e=m.a),e)(i=document.createElement("OPTION")).value=e[r].title,i.textContent=e[r].title,a.appendChild(i);f.a.storage.local.set({tag:e})}t()}},o.send());case 5:case"end":return n.stop()}}),n)}))))}function M(){Object(g.d)(document.getElementById("login-loading"),"disappear"),Object(g.a)(document.getElementById("login-message"),"disappear");var e=new XMLHttpRequest;e.open("POST","https://c88fef96.forestapp.cc/api/v1/sessions",!0);var n=document.getElementById("login-email-input").value;n=(n=n.replace("\\b","")).trim();var r=JSON.stringify({email:n,password:document.getElementById("login-password-input").value});e.setRequestHeader("Access-Control-Allow-Origin","*"),e.setRequestHeader("Content-type","application/json; charset=utf-8"),e.onreadystatechange=c()(s.a.mark((function n(){var r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(4!=e.readyState){n.next=19;break}if(200!=e.status){n.next=16;break}return r=JSON.parse(e.responseText),window.setTimeout((function(){return Object(g.a)(document.getElementById("login-popup"),"disappear")}),300),Object(g.a)(document.getElementById("login-popup"),"login-popup-shrink"),window.setTimeout((function(){Object(g.a)(document.getElementById("login-mask"),"disappear"),Object(g.a)(document.getElementById("login-loading"),"disappear")}),300),Object(g.a)(document.getElementById("info-no-login"),"disappear"),Object(g.d)(document.getElementById("info-has-login"),"disappear"),Object(g.d)(document.getElementById("tab-logout"),"disappear"),n.next=11,f.a.storage.local.set({user:r});case 11:t.updatePurchasedProducts((function(){})),j(),S((function(){return t.updateFromServer("login",(function(){return k()}))})),n.next=19;break;case 16:Object(g.d)(document.getElementById("login-message"),"disappear"),Object(g.a)(document.getElementById("login-loading"),"disappear"),403==e.status?Object(g.f)("login-message",f.a.i18n.getMessage("settings_login_failed")):Object(g.f)("login-message","".concat(f.a.i18n.getMessage("settings_login_failed_error_code")," ").concat(e.status));case 19:case"end":return n.stop()}}),n)}))),e.send(r)}window.onload=function(){var o=Object(g.c)(f.a.i18n.getUILanguage()),l=document.querySelector(".about-forest__carousel-images"),d=a()(Array(9)).map((function(e,t){var n=document.createElement("img");return n.src="./images/screenshot/".concat(o,"/").concat(t+1,".jpg"),n}));d.forEach((function(e){return l.appendChild(e)}));var u=[document.querySelector("#carousel-left-arrow"),document.querySelector("#carousel-right-arrow")];v(c()(s.a.mark((function t(){var n,r,a,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.storage.local.get({tag:null,DefaultTAG:m.a});case 2:for(i in n=t.sent,r=document.getElementById("edit-tag"),null==(e=n.tag)&&(e=n.DefaultTAG),e)(a=document.createElement("OPTION")).value=e[i].title,a.textContent=e[i].title,r.appendChild(a);case 7:case"end":return t.stop()}}),t)})))),window.addEventListener("scroll",c()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.scrollY,a=!(t<r),!(t>130&&a)||n){e.next=12;break}return Object(g.a)(document.getElementById("tab"),"tab-fixed"),Object(g.d)(document.getElementById("tab-space"),"disappear"),e.next=7,f.a.storage.local.get({user:null});case 7:null!=e.sent.user&&Object(g.d)(document.getElementById("tab-info"),"transparent"),n=!0,e.next=20;break;case 12:if(!(t<130&&!a&&n)){e.next=20;break}return Object(g.d)(document.getElementById("tab"),"tab-fixed"),Object(g.a)(document.getElementById("tab-space"),"disappear"),e.next=17,f.a.storage.local.get({user:null});case 17:null!=e.sent.user&&Object(g.a)(document.getElementById("tab-info"),"transparent"),n=!1;case 20:r=t;case 21:case"end":return e.stop()}}),e)})))),window.addEventListener("click",(function(e){var n=e.target,r=n.id;if(Object(g.b)(n,"x")){var a=n.parentNode.parentNode.id;n.parentNode.parentNode.removeChild(n.parentNode),A(a)}if(Object(g.b)(n,"choose-mode")&&function(e){var n=e.target,r=document.getElementById("blacklist"),a=document.getElementById("whitelist");"blacklist-toggle"==n.id?(Object(g.a)(a,"disappear"),Object(g.d)(r,"disappear"),Object(g.a)(document.getElementById("settings-whitelist-description"),"disappear"),Object(g.d)(document.getElementById("settings-blacklist-description"),"disappear")):"whitelist-toggle"==n.id&&(Object(g.a)(r,"disappear"),Object(g.d)(a,"disappear"),Object(g.d)(document.getElementById("settings-whitelist-description"),"disappear"),Object(g.a)(document.getElementById("settings-blacklist-description"),"disappear"));var i="whitelist-toggle"===n.id;t.setWhitelistMode(i),f.a.storage.local.set({isWhitelistMode:i}),f.a.runtime.sendMessage(Object(_.g)(i?"white":"black")).catch((function(){}))}(event),Object(g.b)(n,"os")){var o="";"iphone"===r?o="https://itunes.apple.com/app/forest-stay-focused-stop-phubbing/id866450515?mt=8":"android"===r?o="https://play.google.com/store/apps/details?id=cc.forestapp":"windows"===r&&(o="https://www.microsoft.com/store/apps/9WZDNCRDNLJK"),f.a.tabs.create({url:o}),f.a.storage.local.get({user:null})}if("login-link"!=r&&"no-sync-btn"!=r||(Object(g.d)(document.getElementById("login-popup"),"disappear"),window.setTimeout((function(){return Object(g.d)(document.getElementById("login-popup"),"login-popup-shrink")}),10),Object(g.d)(document.getElementById("login-mask"),"disappear"),window.setTimeout((function(){return Object(g.a)(document.getElementById("login-mask"),"login-masked")}),10)),"login-cancel"!=r&&"login-mask"!=r||(window.setTimeout((function(){return Object(g.a)(document.getElementById("login-popup"),"disappear")}),300),Object(g.a)(document.getElementById("login-popup"),"login-popup-shrink"),window.setTimeout((function(){return Object(g.a)(document.getElementById("login-mask"),"disappear")}),300),Object(g.d)(document.getElementById("login-mask"),"login-masked"),Object(g.a)(document.getElementById("login-message"),"disappear"),Object(g.a)(document.getElementById("login-loading"),"disappear")),"login-btn"==r&&M(),"settings_sync_tree_species_manually"==r&&(Object(g.a)(document.getElementById("settings_sync_tree_species_manually_pre"),"disappear"),Object(g.a)(document.getElementById("settings_sync_tree_species_manually"),"disappear"),Object(g.d)(document.getElementById("settings_syncing_tree_species_manually"),"disappear"),t.updatePurchasedProducts((function(){t.uploadTree("sync",(function(){})),window.setTimeout((function(){Object(g.d)(document.getElementById("settings_sync_tree_species_manually_pre"),"disappear"),Object(g.d)(document.getElementById("settings_sync_tree_species_manually"),"disappear"),Object(g.a)(document.getElementById("settings_syncing_tree_species_manually"),"disappear")}),1e3)}))),"tab-logout"==r){var l=new XMLHttpRequest;l.open("DELETE","https://c88fef96.forestapp.cc/api/v1/sessions/signout",!0),c()(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.storage.local.get({user:null});case 2:n=e.sent,r=n.user,a=JSON.stringify(r),l.setRequestHeader("Content-type","application/json; charset=utf-8"),l.onreadystatechange=function(){4==l.readyState&&(200==l.status&&(f.a.storage.local.remove(["user","profile","coin"]),Object(g.a)(document.getElementById("tab-logout"),"disappear"),Object(g.a)(document.getElementById("info-has-login"),"disappear"),Object(g.d)(document.getElementById("info-no-login"),"disappear"),k(),t.updatePurchasedProducts((function(){})),Object(g.a)(document.getElementById("tab-info"),"transparent"),Object(g.a)(document.getElementById("tab-space"),"disappear"),document.getElementById("profile-avatar").src="images/settings/empty_avatar.png",document.getElementById("profile-name").textContent="",document.getElementById("profile-healthy").textContent="",document.getElementById("profile-rate").textContent="",document.getElementById("tab-info-avatar").src="",document.getElementById("tab-info-name").textContent="",document.getElementById("profile-coin").textContent=""))},l.send(a);case 8:case"end":return e.stop()}}),e)})))()}if("tab-settings"==r){Object(g.a)(n,"active");var m=document.getElementById("settings"),h=document.getElementById("synclist"),y=document.getElementById("tab-synclist");Object(g.d)(y,"active"),Object(g.d)(m,"disappear"),Object(g.a)(h,"disappear")}if("tab-synclist"==r){k(),Object(g.a)(n,"active");m=document.getElementById("settings"),h=document.getElementById("synclist");var v=document.getElementById("tab-settings");Object(g.d)(v,"active"),Object(g.d)(h,"disappear"),Object(g.a)(m,"disappear")}if("sync-btn"!=r&&"sync-btn-title"!=r&&"sync-btn-icon"!=r||i||(i=!0,Object(g.a)(document.getElementById("sync-btn-icon"),"icon-spin"),Object(g.d)(document.getElementById("sync-btn"),"buttons"),S((function(){t.uploadTree("sync",(function(){Object(g.a)(document.getElementById("sync-btn"),"buttons"),k(),Object(g.d)(document.getElementById("sync-btn-icon"),"icon-spin"),Object(g.a)(document.getElementById("no-sync-btn"),"disappear"),i=!1}))}))),Object(g.b)(n,"note")){var w=n,E=null;if(null==(E=n.parentNode.querySelector(".tree-tag")))return;c()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.storage.local.set({tempTag:E.textContent,tempNote:w.textContent});case 2:x(r),Object(g.d)(document.getElementById("edit-popup"),"disappear"),window.setTimeout((function(){return Object(g.d)(document.getElementById("edit-popup"),"edit-popup-shrink")}),10),Object(g.d)(document.getElementById("edit-mask"),"disappear"),window.setTimeout((function(){return Object(g.a)(document.getElementById("edit-mask"),"edit-masked")}),10);case 7:case"end":return e.stop()}}),e)})))()}"edit-cancel"!=r&&"edit-mask"!=r||(window.setTimeout((function(){Object(g.a)(document.getElementById("edit-popup"),"disappear")}),300),Object(g.a)(document.getElementById("edit-popup"),"edit-popup-shrink"),window.setTimeout((function(){Object(g.a)(document.getElementById("edit-mask"),"disappear")}),300),Object(g.d)(document.getElementById("edit-mask"),"edit-masked")),"edit-btn"==r&&b(),"carousel-left-arrow"===r&&p("left",d,u),"carousel-right-arrow"===r&&p("right",d,u),"google-play-badge"===r&&window.open("https://play.google.com/store/apps/details?id=cc.forestapp&referrer=utm_source%3Dchromeextension%26utm_campaign%3Dnewchromeextension"),"app-store-badge"===r&&window.open("https://apps.apple.com/app/apple-store/id866450515?pt=690486&ct=new-chrome-extension&mt=8")}),!1),window.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1}),!0),document.getElementById("new-black-box").addEventListener("keypress",(function(e){var t,n;e||(e=window.event),13===(e.keyCode||e.which)&&(t=document.getElementById("new-black-box"),(n=t.value.trim()).length>=0&&(E("blacklist",n),A("blacklist")),t.value="",document.getElementById("new-black-box").blur())}),!1),document.getElementById("new-white-box").addEventListener("keypress",(function(e){var t,n;e||(e=window.event),13===(e.keyCode||e.which)&&(t=document.getElementById("new-white-box"),(n=t.value.trim()).length>=0&&(E("whitelist",n),A("whitelist")),t.value="",document.getElementById("new-white-box").blur())}),!1),window.addEventListener("keypress",(function(e){if(13==e.keyCode&&("login-email-input"==e.target.id||"login-password-input"==e.target.id))return M(),!1}),!1),function(){O.apply(this,arguments)}(),c()(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.storage.local.get({user:null,isWhitelistMode:!1});case 2:n=e.sent,null!==n.user&&(window.setTimeout((function(){return Object(g.a)(document.getElementById("login-popup"),"disappear")}),300),Object(g.a)(document.getElementById("login-popup"),"login-popup-shrink"),window.setTimeout((function(){return Object(g.a)(document.getElementById("login-mask"),"disappear")}),300),Object(g.d)(document.getElementById("login-mask"),"login-masked"),Object(g.a)(document.getElementById("info-no-login"),"disappear"),Object(g.d)(document.getElementById("info-has-login"),"disappear"),Object(g.a)(document.getElementById("no-sync-btn"),"disappear"),Object(g.d)(document.getElementById("sync-btn"),"disappear"),Object(g.d)(document.getElementById("tab-logout"),"disappear"),t.updatePurchasedProducts((function(){})),j()),n.isWhitelistMode?document.getElementById("whitelist-toggle").click():document.getElementById("blacklist-toggle").click();case 6:case"end":return e.stop()}}),e)})))(),Object(g.f)("settings_blacklist_title",f.a.i18n.getMessage("settings_blacklist_title")),Object(g.f)("settings_whitelist_title",f.a.i18n.getMessage("settings_whitelist_title")),document.getElementById("new-black-box").placeholder=f.a.i18n.getMessage("settings_newblackbox_placeholder"),document.getElementById("new-white-box").placeholder=f.a.i18n.getMessage("settings_newblackbox_placeholder"),Object(g.f)("login-link",f.a.i18n.getMessage("settings_login_portal")),Object(g.f)("settings_login_description",f.a.i18n.getMessage("settings_login_description")),Object(g.f)("settings_no_account1",f.a.i18n.getMessage("settings_no_account1")),Object(g.f)("settings_no_account_iosapp",f.a.i18n.getMessage("settings_no_account_iosapp")),Object(g.f)("settings_no_account_or",f.a.i18n.getMessage("settings_no_account_or")),Object(g.f)("settings_no_account_androidapp",f.a.i18n.getMessage("settings_no_account_androidapp")),Object(g.f)("settings_no_account2",f.a.i18n.getMessage("settings_no_account2")),Object(g.f)("login-title",f.a.i18n.getMessage("settings_login_title")),Object(g.f)("login-btn",f.a.i18n.getMessage("settings_login_btn")),Object(g.f)("login-cancel",f.a.i18n.getMessage("settings_login_cancel")),document.getElementById("login-email-input").placeholder=f.a.i18n.getMessage("settings_login_email"),document.getElementById("login-password-input").placeholder=f.a.i18n.getMessage("settings_login_password"),Object(g.f)("synclist-no-tree-description",f.a.i18n.getMessage("settings_synclist_no_tree")),Object(g.f)("synclist-no-tree-only-browser",f.a.i18n.getMessage("settings_only_browser")),Object(g.f)("synclist-limit-description",f.a.i18n.getMessage("settings_synclist_limit")),Object(g.f)("synclist-limit-only-browser",f.a.i18n.getMessage("settings_only_browser")),Object(g.f)("tab-settings",f.a.i18n.getMessage("settings_tab_settings")),Object(g.f)("tab-synclist",f.a.i18n.getMessage("settings_tab_synclist")),Object(g.f)("no-sync-btn",f.a.i18n.getMessage("settings_no_sync_btn")),Object(g.f)("sync-btn-title",f.a.i18n.getMessage("settings_sync_btn")),Object(g.f)("sync-btn-done",f.a.i18n.getMessage("settings_sync_completed")),Object(g.f)("tab-logout",f.a.i18n.getMessage("settings_tab_logout")),Object(g.f)("settings-whitelist-description",f.a.i18n.getMessage("settings_whitelist_description")),Object(g.f)("settings-blacklist-description",f.a.i18n.getMessage("settings_blacklist_description")),Object(g.f)("edit-btn",f.a.i18n.getMessage("settings_edit_btn")),Object(g.f)("edit-cancel",f.a.i18n.getMessage("settings_edit_cancel")),Object(g.e)();var w=document.querySelector(".switch-mode-container"),I=document.querySelector(".section-edit-url"),B=document.querySelector(".choose-background");f.a.runtime.onMessage.addListener((function(e){var n,r,a,i,s,o=e.type,c=e.payload;switch(o){case h.h:c===y.a.GROWING?(Object(g.a)(w,"unavailable"),Object(g.a)(I,"unavailable"),Object(g.a)(B,"unavailable")):(Object(g.d)(w,"unavailable"),Object(g.d)(I,"unavailable"),Object(g.d)(B,"unavailable"));break;case h.f:n=t.getIsWhitelistMode(),r=document.getElementById("blacklist"),a=document.getElementById("whitelist"),i=document.querySelector("#whitelist-toggle"),s=document.querySelector("#blacklist-toggle"),n?(i.checked=!0,Object(g.a)(r,"disappear"),Object(g.d)(a,"disappear"),Object(g.d)(document.getElementById("settings-whitelist-description"),"disappear"),Object(g.a)(document.getElementById("settings-blacklist-description"),"disappear")):(s.checked=!0,Object(g.a)(a,"disappear"),Object(g.d)(r,"disappear"),Object(g.a)(document.getElementById("settings-whitelist-description"),"disappear"),Object(g.d)(document.getElementById("settings-blacklist-description"),"disappear"))}return Promise.resolve("")})),t.currentState!==y.a.GROWING&&(Object(g.d)(w,"unavailable"),Object(g.d)(I,"unavailable"),Object(g.d)(B,"unavailable"))}}()}]);